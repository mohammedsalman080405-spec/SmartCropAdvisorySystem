<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriAI - Farmer Support System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f0f9f4;
            color: #2d3748;
        }

        /* Navigation Bar */
        .navbar {
            background: white;
            padding: 15px 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: bold;
            color: #2d9061;
        }

        .nav-menu {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav-item {
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-item:hover, .nav-item.active {
            background: #e6f7ed;
            color: #2d9061;
        }

        .language-selector {
            margin-left: 20px;
        }

        .language-selector select {
            padding: 8px 16px;
            border: 2px solid #2d9061;
            border-radius: 8px;
            background: white;
            color: #2d9061;
            font-weight: bold;
            cursor: pointer;
            font-size: 14px;
        }

        .language-selector select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(45, 144, 97, 0.1);
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px;
        }

        /* Header */
        .page-header {
            background: linear-gradient(135deg, #d4f4dd 0%, #b8e6cc 100%);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .page-header h1 {
            font-size: 32px;
            color: #1a5c3a;
            margin-bottom: 5px;
        }

        .page-header p {
            color: #4a7c59;
            font-size: 16px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .stat-info h3 {
            color: #718096;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .stat-info .number {
            font-size: 32px;
            font-weight: bold;
            color: #2d3748;
        }

        .stat-info .subtitle {
            color: #a0aec0;
            font-size: 12px;
            margin-top: 5px;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .icon-green { background: #d4f4dd; }
        .icon-blue { background: #dbeafe; }
        .icon-orange { background: #fed7d7; }
        .icon-mint { background: #d4f4dd; }

        /* Modules Grid */
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .module-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .module-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .module-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .module-header h3 {
            font-size: 18px;
            color: #2d3748;
        }

        .module-header p {
            font-size: 13px;
            color: #718096;
            margin-top: 3px;
        }

        /* Weather Module */
        .weather-main {
            text-align: center;
            padding: 20px 0;
            border-bottom: 1px solid #e2e8f0;
            margin-bottom: 20px;
        }

        .weather-location {
            color: #718096;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .weather-temp {
            font-size: 48px;
            font-weight: bold;
            color: #2d3748;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .weather-icon {
            font-size: 60px;
        }

        .weather-condition {
            color: #718096;
            margin-top: 5px;
        }

        .weather-details {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }

        .weather-detail {
            text-align: center;
        }

        .weather-detail-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .weather-detail-label {
            font-size: 12px;
            color: #718096;
        }

        .weather-detail-value {
            font-weight: bold;
            color: #2d3748;
        }

        .forecast {
            margin-top: 20px;
        }

        .forecast h4 {
            font-size: 14px;
            color: #718096;
            margin-bottom: 15px;
        }

        .forecast-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #f7fafc;
        }

        .forecast-day {
            flex: 1;
            font-size: 14px;
            color: #4a5568;
        }

        .forecast-temp {
            flex: 1;
            text-align: center;
            font-weight: bold;
        }

        .forecast-condition {
            flex: 1;
            text-align: right;
            font-size: 13px;
            color: #718096;
        }

        .forecast-rain {
            margin-left: 10px;
            color: #3182ce;
            font-size: 12px;
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #2d9061 0%, #38a169 100%);
            border-radius: 10px;
            transition: width 0.3s;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 13px;
            margin-bottom: 8px;
        }

        /* Buttons */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            width: 100%;
            margin-top: 15px;
        }

        .btn-primary {
            background: #2d9061;
            color: white;
        }

        .btn-primary:hover {
            background: #267a50;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(45, 144, 97, 0.3);
        }

        .btn-secondary {
            background: #3182ce;
            color: white;
        }

        .btn-secondary:hover {
            background: #2c5aa0;
        }

        .btn-purple {
            background: #805ad5;
            color: white;
        }

        .btn-purple:hover {
            background: #6b46c1;
        }

        /* Upload Area */
        .upload-area {
            border: 2px dashed #cbd5e0;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin: 20px 0;
        }

        .upload-area:hover {
            border-color: #2d9061;
            background: #f7fafc;
        }

        .upload-icon {
            font-size: 48px;
            color: #cbd5e0;
            margin-bottom: 10px;
        }

        .upload-text {
            color: #718096;
            font-size: 14px;
        }

        /* Input Fields */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 13px;
            color: #4a5568;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #2d9061;
            box-shadow: 0 0 0 3px rgba(45, 144, 97, 0.1);
        }

        /* Expert Consultation */
        .expert-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f7fafc;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .expert-label {
            font-size: 13px;
            color: #718096;
        }

        .expert-count {
            background: #2d9061;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-close {
            cursor: pointer;
            font-size: 24px;
            color: #718096;
        }

        /* Chat Interface */
        .chat-container {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: #f7fafc;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .chat-message {
            margin-bottom: 15px;
            display: flex;
        }

        .chat-message.user {
            justify-content: flex-end;
        }

        .message-bubble {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 12px;
            word-wrap: break-word;
        }

        .chat-message.user .message-bubble {
            background: #2d9061;
            color: white;
        }

        .chat-message.bot .message-bubble {
            background: white;
            color: #2d3748;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 15px;
            }

            .nav-menu {
                flex-direction: column;
                width: 100%;
            }

            .modules-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Loading Spinner */
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #2d9061;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="logo">
            üåæ AgriAI
        </div>
        <div class="nav-menu">
            <div class="nav-item active" onclick="showPage('dashboard')">
                <span>üè†</span> <span class="nav-text">Dashboard</span>
            </div>
            <div class="nav-item" onclick="showPage('disease')">
                <span>üëÅÔ∏è</span> <span class="nav-text">Disease Detection</span>
            </div>
            <div class="nav-item" onclick="showPage('crop')">
                <span>üå±</span> <span class="nav-text">Crop Recommendation</span>
            </div>
            <div class="nav-item" onclick="showPage('irrigation')">
                <span>üíß</span> <span class="nav-text">Irrigation Advisory</span>
            </div>
            <div class="nav-item" onclick="showPage('expert')">
                <span>ü§ñ</span> <span class="nav-text">AI Consultation</span>
            </div>
            <div class="language-selector">
                <select id="languageSelect" onchange="changeLanguage(this.value)">
                    <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                    <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
                    <option value="en">English</option>
                </select>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Page Header -->
        <div class="page-header">
            <h1>AI-Powered Farmer Support System</h1>
            <p>Complete agricultural intelligence platform for precision farming</p>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboard-page">
            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-info">
                        <h3>Crops Monitored</h3>
                        <div class="number">15</div>
                        <div class="subtitle">+3 this week</div>
                    </div>
                    <div class="stat-icon icon-green">‚úì</div>
                </div>

                <div class="stat-card">
                    <div class="stat-info">
                        <h3>Disease Detections</h3>
                        <div class="number">8</div>
                        <div class="subtitle">2 new alerts</div>
                    </div>
                    <div class="stat-icon icon-blue">üëÅÔ∏è</div>
                </div>

                <div class="stat-card">
                    <div class="stat-info">
                        <h3>Active Alerts</h3>
                        <div class="number">3</div>
                        <div class="subtitle">Immediate attention</div>
                    </div>
                    <div class="stat-icon icon-orange">‚ö†Ô∏è</div>
                </div>

                <div class="stat-card">
                    <div class="stat-info">
                        <h3>Yield Improvement</h3>
                        <div class="number">23%</div>
                        <div class="subtitle">vs last season</div>
                    </div>
                    <div class="stat-icon icon-mint">üìà</div>
                </div>
            </div>

            <!-- Modules Grid -->
            <div class="modules-grid">
                <!-- Weather Module -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon icon-blue">üå§Ô∏è</div>
                        <div>
                            <h3>Weather Conditions</h3>
                            <p>Maharashtra, India</p>
                        </div>
                    </div>

                    <div class="weather-main">
                        <div class="weather-temp">
                            28¬∞C
                            <div class="weather-icon">‚òÄÔ∏è</div>
                        </div>
                        <div class="weather-condition">Partly Cloudy</div>
                    </div>

                    <div class="weather-details">
                        <div class="weather-detail">
                            <div class="weather-detail-icon">üíß</div>
                            <div class="weather-detail-label">Humidity</div>
                            <div class="weather-detail-value">65%</div>
                        </div>
                        <div class="weather-detail">
                            <div class="weather-detail-icon">üí®</div>
                            <div class="weather-detail-label">Wind</div>
                            <div class="weather-detail-value">12 km/h</div>
                        </div>
                        <div class="weather-detail">
                            <div class="weather-detail-icon">üåßÔ∏è</div>
                            <div class="weather-detail-label">Rainfall</div>
                            <div class="weather-detail-value">2.5mm</div>
                        </div>
                    </div>

                    <div class="forecast">
                        <h4>3-Day Forecast</h4>
                        <div class="forecast-item">
                            <div class="forecast-day">Today</div>
                            <div class="forecast-temp">28¬∞C</div>
                            <div class="forecast-condition">Partly Cloudy <span class="forecast-rain">10%</span></div>
                        </div>
                        <div class="forecast-item">
                            <div class="forecast-day">Tomorrow</div>
                            <div class="forecast-temp">30¬∞C</div>
                            <div class="forecast-condition">Sunny <span class="forecast-rain">5%</span></div>
                        </div>
                        <div class="forecast-item">
                            <div class="forecast-day">Day 3</div>
                            <div class="forecast-temp">26¬∞C</div>
                            <div class="forecast-condition">Rainy <span class="forecast-rain">80%</span></div>
                        </div>
                    </div>
                </div>

                <!-- Disease Detection Module -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon icon-green">üëÅÔ∏è</div>
                        <div>
                            <h3>Disease Detection</h3>
                            <p>AI-powered plant disease identification with 91% accuracy</p>
                        </div>
                    </div>

                    <div class="progress-label">
                        <span>Detection Accuracy</span>
                        <span>91%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 91%"></div>
                    </div>

                    <button class="btn btn-primary" onclick="showPage('disease')">Upload Image</button>
                </div>

                <!-- Crop Recommendation Module -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon icon-green">üå±</div>
                        <div>
                            <h3>Crop Recommendation</h3>
                            <p>Smart crop selection based on soil and climate data</p>
                        </div>
                    </div>

                    <div class="progress-label">
                        <span>Precision Match</span>
                        <span>94%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 94%"></div>
                    </div>

                    <button class="btn btn-primary" onclick="showPage('crop')">Get Recommendations</button>
                </div>

                <!-- Irrigation Advisory Module -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon icon-blue">üíß</div>
                        <div>
                            <h3>Irrigation Advisory</h3>
                            <p>Optimal watering schedules for maximum efficiency</p>
                        </div>
                    </div>

                    <div class="progress-label">
                        <span>Water Savings</span>
                        <span>30%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 30%"></div>
                    </div>

                    <button class="btn btn-secondary" onclick="showPage('irrigation')">View Schedule</button>
                </div>

                <!-- AI Consultation Module -->
                <div class="module-card">
                    <div class="module-header">
                        <div class="module-icon icon-purple">ü§ñ</div>
                        <div>
                            <h3>AI Consultation</h3>
                            <p>Real-time support from AI agricultural assistant</p>
                        </div>
                    </div>

                    <div class="expert-status">
                        <span class="expert-label">AI Assistant</span>
                        <span class="expert-count">Available 24/7</span>
                    </div>

                    <button class="btn btn-purple" onclick="showPage('expert')">Start Consultation</button>
                </div>
            </div>
        </div>

        <!-- Disease Detection Page -->
        <div id="disease-page" class="hidden">
            <div class="module-card">
                <div class="module-header">
                    <div class="module-icon icon-green">üëÅÔ∏è</div>
                    <div>
                        <h3>Disease Detection</h3>
                        <p>Upload plant images for AI-powered disease identification</p>
                    </div>
                </div>

                <div class="upload-area" onclick="document.getElementById('imageInput').click()">
                    <div class="upload-icon">üì∑</div>
                    <div class="upload-text">
                        <strong>Upload Plant Image</strong><br>
                        Drag and drop or click to upload
                    </div>
                    <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">
                </div>

                <div id="imagePreview" class="hidden" style="text-align: center; margin: 20px 0;">
                    <img id="previewImg" style="max-width: 100%; max-height: 300px; border-radius: 8px;">
                </div>

                <div id="detectionResult" class="hidden">
                    <h4 style="margin: 20px 0 10px 0;">Analysis Results</h4>
                    <div style="background: #f7fafc; padding: 20px; border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>Disease Detected:</span>
                            <strong id="diseaseName">-</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>Confidence:</span>
                            <strong id="confidence">-</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Severity:</span>
                            <strong id="severity">-</strong>
                        </div>
                    </div>
                    <div style="margin-top: 20px; padding: 15px; background: #fff5f5; border-left: 4px solid #fc8181; border-radius: 4px;">
                        <strong>Recommended Action:</strong>
                        <p id="recommendation" style="margin-top: 8px; color: #4a5568;">-</p>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="analyzeDisease()" id="analyzeBtn" disabled>Analyze Image</button>
            </div>
        </div>

        <!-- Crop Recommendation Page -->
        <div id="crop-page" class="hidden">
            <div class="module-card">
                <div class="module-header">
                    <div class="module-icon icon-green">üå±</div>
                    <div>
                        <h3 class="translate" data-key="cropTitle">Crop Recommendation</h3>
                        <p class="translate" data-key="cropSubtitle">Get personalized crop suggestions based on your land</p>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label translate" data-key="stateLabel">State / ‡§∞‡§æ‡§ú‡•ç‡§Ø / ‡∞∞‡∞æ‡∞∑‡±ç‡∞ü‡±ç‡∞∞‡∞Ç</label>
                    <select class="form-select" id="state" onchange="updateDistricts()">
                        <option value="">Select / ‡§ö‡•Å‡§®‡•á‡§Ç / ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</option>
                        <option value="maharashtra">Maharashtra / ‡§Æ‡§π‡§æ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞</option>
                        <option value="telangana">Telangana / ‡∞§‡±Ü‡∞≤‡∞Ç‡∞ó‡∞æ‡∞£</option>
                        <option value="karnataka">Karnataka / ‡§ï‡§∞‡•ç‡§®‡§æ‡§ü‡§ï / ‡∞ï‡∞∞‡±ç‡∞£‡∞æ‡∞ü‡∞ï</option>
                        <option value="andhra">Andhra Pradesh / ‡§Ü‡§Ç‡§ß‡•ç‡§∞ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂ / ‡∞Ü‡∞Ç‡∞ß‡±ç‡∞∞ ‡∞™‡±ç‡∞∞‡∞¶‡±á‡∞∂‡±ç</option>
                        <option value="punjab">Punjab / ‡§™‡§Ç‡§ú‡§æ‡§¨</option>
                        <option value="uttar">Uttar Pradesh / ‡§â‡§§‡•ç‡§§‡§∞ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label translate" data-key="districtLabel">District / ‡§ú‡§ø‡§≤‡§æ / ‡∞ú‡∞ø‡∞≤‡±ç‡∞≤‡∞æ</label>
                    <input type="text" class="form-input" id="district" placeholder="">
                </div>

                <div class="form-group">
                    <label class="form-label translate" data-key="seasonLabel">Current Season / ‡§Æ‡•å‡§∏‡§Æ / ‡∞ï‡∞æ‡∞≤‡∞Ç</label>
                    <select class="form-select" id="season">
                        <option value="">Select / ‡§ö‡•Å‡§®‡•á‡§Ç / ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</option>
                        <option value="kharif">Kharif (Jun-Oct) / ‡§ñ‡§∞‡•Ä‡§´ / ‡∞ñ‡∞∞‡±Ä‡∞´‡±ç</option>
                        <option value="rabi">Rabi (Nov-Mar) / ‡§∞‡§¨‡•Ä / ‡∞∞‡∞¨‡±Ä</option>
                        <option value="zaid">Zaid (Mar-Jun) / ‡§ú‡§æ‡§Ø‡§¶ / ‡∞ú‡∞æ‡∞Ø‡∞ø‡∞¶‡±ç</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label translate" data-key="soilColorLabel">What color is your soil? / ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡§æ ‡§∞‡§Ç‡§ó? / ‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø ‡∞∞‡∞Ç‡∞ó‡±Å?</label>
                    <select class="form-select" id="soilColor">
                        <option value="">Select / ‡§ö‡•Å‡§®‡•á‡§Ç / ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</option>
                        <option value="black">Black / ‡§ï‡§æ‡§≤‡•Ä / ‡∞®‡∞≤‡±ç‡∞≤</option>
                        <option value="red">Red / ‡§≤‡§æ‡§≤ / ‡∞é‡∞∞‡±Å‡∞™‡±Å</option>
                        <option value="brown">Brown / ‡§≠‡•Ç‡§∞‡•Ä / ‡∞ó‡±ã‡∞ß‡±Å‡∞Æ</option>
                        <option value="yellow">Yellow/Sandy / ‡§™‡•Ä‡§≤‡•Ä/‡§∞‡•á‡§§‡•Ä‡§≤‡•Ä / ‡∞™‡∞∏‡±Å‡∞™‡±Å/‡∞á‡∞∏‡±Å‡∞ï</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label translate" data-key="soilTypeLabel">How does your soil feel? / ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•à‡§∏‡•Ä ‡§π‡•à? / ‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø ‡∞é‡∞≤‡∞æ ‡∞â‡∞Ç‡∞¶‡∞ø?</label>
                    <select class="form-select" id="soilTexture">
                        <option value="">Select / ‡§ö‡•Å‡§®‡•á‡§Ç / ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</option>
                        <option value="sticky">Sticky (like clay) / ‡§ö‡§ø‡§™‡§ö‡§ø‡§™‡•Ä (‡§ö‡§ø‡§ï‡§®‡•Ä) / ‡∞Ö‡∞Ç‡∞ü‡±Å‡∞ï‡±Å‡∞®‡±á (‡∞¨‡∞Ç‡∞ï‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø)</option>
                        <option value="smooth">Smooth (silky) / ‡§Æ‡•Å‡§≤‡§æ‡§Ø‡§Æ (‡§∞‡•á‡§∂‡§Æ‡•Ä) / ‡∞Æ‡±É‡∞¶‡±Å‡∞µ‡±à‡∞®</option>
                        <option value="grainy">Grainy (sandy) / ‡§∞‡•á‡§§‡•Ä‡§≤‡•Ä / ‡∞á‡∞∏‡±Å‡∞ï</option>
                        <option value="crumbly">Crumbly (good mix) / ‡§≠‡•Å‡§∞‡§≠‡•Å‡§∞‡•Ä (‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§Æ‡§ø‡§∂‡•ç‡§∞‡§ø‡§§) / ‡∞ï‡∞£‡∞ø‡∞ï</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label translate" data-key="waterLabel">Water availability / ‡§™‡§æ‡§®‡•Ä ‡§ï‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ / ‡∞®‡±Ä‡∞ü‡∞ø ‡∞≤‡∞≠‡±ç‡∞Ø‡∞§</label>
                    <select class="form-select" id="waterAvailability">
                        <option value="">Select / ‡§ö‡•Å‡§®‡•á‡§Ç / ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</option>
                        <option value="abundant">Plenty of water / ‡§¨‡§π‡•Å‡§§ ‡§™‡§æ‡§®‡•Ä ‡§π‡•à / ‡∞ö‡∞æ‡∞≤‡∞æ ‡∞®‡±Ä‡∞∞‡±Å</option>
                        <option value="moderate">Moderate water / ‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§™‡§æ‡§®‡•Ä / ‡∞Æ‡∞ø‡∞§‡∞Æ‡±à‡∞® ‡∞®‡±Ä‡∞∞‡±Å</option>
                        <option value="limited">Limited water / ‡§ï‡§Æ ‡§™‡§æ‡§®‡•Ä / ‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞®‡±Ä‡∞∞‡±Å</option>
                        <option value="rainfed">Only rainwater / ‡§ï‡•á‡§µ‡§≤ ‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§ï‡§æ ‡§™‡§æ‡§®‡•Ä / ‡∞µ‡∞∞‡±ç‡∞∑‡∞™‡±Å ‡∞®‡±Ä‡∞∞‡±Å ‡∞Æ‡∞æ‡∞§‡±ç‡∞∞‡∞Æ‡±á</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label translate" data-key="farmSizeLabel">Farm size (in acres) / ‡§ñ‡•á‡§§ ‡§ï‡§æ ‡§Ü‡§ï‡§æ‡§∞ (‡§è‡§ï‡§°‡§º ‡§Æ‡•á‡§Ç) / ‡∞™‡±ä‡∞≤‡∞Ç ‡∞™‡∞∞‡∞ø‡∞Æ‡∞æ‡∞£‡∞Ç (‡∞é‡∞ï‡∞∞‡∞æ‡∞≤‡∞≤‡±ã)</label>
                    <input type="number" class="form-input" id="farmSize" placeholder="e.g., 2">
                </div>

                <div class="form-group">
                    <label class="form-label translate" data-key="lastCropLabel">What did you grow last season? / ‡§™‡§ø‡§õ‡§≤‡•Ä ‡§¨‡§æ‡§∞ ‡§ï‡•ç‡§Ø‡§æ ‡§â‡§ó‡§æ‡§Ø‡§æ? / ‡∞ó‡∞§ ‡∞∏‡±Ä‡∞ú‡∞®‡±ç‚Äå‡∞≤‡±ã ‡∞è‡∞Æ‡∞ø ‡∞™‡∞Ç‡∞°‡∞ø‡∞Ç‡∞ö‡∞æ‡∞∞‡±Å?</label>
                    <input type="text" class="form-input" id="lastCrop" placeholder="Rice, Wheat, Cotton etc.">
                </div>

                <div id="cropResult" class="hidden">
                    <h4 style="margin: 20px 0 10px 0;" class="translate" data-key="recommendedCrops">Recommended Crops</h4>
                    <div id="cropList"></div>
                </div>

                <button class="btn btn-primary" onclick="getCropRecommendation()">
                    <span class="translate" data-key="getRecommendations">Get Recommendations / ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂ ‡§™‡§æ‡§è‡§Ç / ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å‡∞≤‡±Å ‡∞™‡±ä‡∞Ç‡∞¶‡∞Ç‡∞°‡∞ø</span>
                </button>
            </div>
        </div>

        <!-- Irrigation Advisory Page -->
        <div id="irrigation-page" class="hidden">
            <div class="module-card">
                <div class="module-header">
                    <div class="module-icon icon-blue">üíß</div>
                    <div>
                        <h3>Irrigation Advisory</h3>
                        <p>Optimize water usage with smart irrigation schedules</p>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Crop Type</label>
                    <select class="form-select" id="cropType">
                        <option value="">Select crop</option>
                        <option value="wheat">Wheat</option>
                        <option value="rice">Rice</option>
                        <option value="cotton">Cotton</option>
                        <option value="sugarcane">Sugarcane</option>
                        <option value="maize">Maize</option>
                        <option value="tomato">Tomato</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Growth Stage</label>
                    <select class="form-select" id="growthStage">
                        <option value="">Select stage</option>
                        <option value="initial">Initial</option>
                        <option value="development">Development</option>
                        <option value="mid">Mid Season</option>
                        <option value="late">Late Season</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Field Size (hectares)</label>
                    <input type="number" class="form-input" id="fieldSize" placeholder="e.g., 2">
                </div>

                <div id="irrigationResult" class="hidden">
                    <h4 style="margin: 20px 0 10px 0;">Irrigation Schedule</h4>
                    <div style="background: #f7fafc; padding: 20px; border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>Water Required:</span>
                            <strong id="waterAmount">-</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>Frequency:</span>
                            <strong id="frequency">-</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Next Irrigation:</span>
                            <strong id="nextIrrigation">-</strong>
                        </div>
                    </div>
                    <div style="margin-top: 20px; padding: 15px; background: #ebf8ff; border-left: 4px solid #4299e1; border-radius: 4px;">
                        <strong>üí° Water Saving Tips:</strong>
                        <ul id="waterTips" style="margin-top: 8px; color: #4a5568; padding-left: 20px;">
                        </ul>
                    </div>
                </div>

                <button class="btn btn-secondary" onclick="getIrrigationAdvice()">View Schedule</button>
            </div>
        </div>

        <!-- AI Consultation Page -->
        <div id="expert-page" class="hidden">
            <div class="module-card">
                <div class="module-header">
                    <div class="module-icon icon-purple">ü§ñ</div>
                    <div>
                        <h3>AI Consultation</h3>
                        <p>Chat with our AI agricultural assistant</p>
                    </div>
                </div>

                <div class="chat-container" id="chatContainer">
                    <div class="chat-message bot">
                        <div class="message-bubble">
                            ‡§®‡§Æ‡§∏‡•ç‡§§‡•á! üôè ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§ñ‡•á‡§§‡•Ä ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡•á ‡§∏‡§µ‡§æ‡§≤‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§∏‡§µ‡§æ‡§≤ ‡§™‡•Ç‡§õ‡•á‡§Ç‡•§
                        </div>
                    </div>
                </div>

                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="chatInput" placeholder="‡§Ö‡§™‡§®‡§æ ‡§∏‡§µ‡§æ‡§≤ ‡§Ø‡§π‡§æ‡§Å ‡§≤‡§ø‡§ñ‡•á‡§Ç..." onkeypress="handleChatKeyPress(event)">
                    <button class="btn btn-purple" style="margin: 0; width: auto; padding: 12px 24px;" onclick="sendChatMessage()">‡§≠‡•á‡§ú‡•á‡§Ç</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Language translations
        const translations = {
            en: {
                dashboard: 'Dashboard',
                diseaseDetection: 'Disease Detection',
                cropRecommendation: 'Crop Recommendation',
                irrigationAdvisory: 'Irrigation Advisory',
                aiConsultation: 'AI Consultation',
                pageTitle: 'AI-Powered Farmer Support System',
                pageSubtitle: 'Complete agricultural intelligence platform for precision farming',
                cropsMonitored: 'Crops Monitored',
                diseaseDetections: 'Disease Detections',
                activeAlerts: 'Active Alerts',
                yieldImprovement: 'Yield Improvement',
                cropTitle: 'Crop Recommendation',
                cropSubtitle: 'Get personalized crop suggestions based on your land',
                getRecommendations: 'Get Recommendations',
                recommendedCrops: 'Recommended Crops'
            },
            hi: {
                dashboard: '‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°',
                diseaseDetection: '‡§∞‡•ã‡§ó ‡§™‡§π‡§ö‡§æ‡§®',
                cropRecommendation: '‡§´‡§∏‡§≤ ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂',
                irrigationAdvisory: '‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§∏‡§≤‡§æ‡§π',
                aiConsultation: 'AI ‡§™‡§∞‡§æ‡§Æ‡§∞‡•ç‡§∂',
                pageTitle: 'AI-‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§ ‡§ï‡§ø‡§∏‡§æ‡§® ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä',
                pageSubtitle: '‡§∏‡§ü‡•Ä‡§ï ‡§ñ‡•á‡§§‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ï‡•É‡§∑‡§ø ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø‡§Æ‡§§‡•ç‡§§‡§æ ‡§Æ‡§Ç‡§ö',
                cropsMonitored: '‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä ‡§ï‡•Ä ‡§ó‡§à ‡§´‡§∏‡§≤‡•á‡§Ç',
                diseaseDetections: '‡§∞‡•ã‡§ó ‡§™‡§π‡§ö‡§æ‡§®',
                activeAlerts: '‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§Ö‡§≤‡§∞‡•ç‡§ü',
                yieldImprovement: '‡§â‡§™‡§ú ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§ß‡§æ‡§∞',
                cropTitle: '‡§´‡§∏‡§≤ ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂',
                cropSubtitle: '‡§Ö‡§™‡§®‡•Ä ‡§ú‡§Æ‡•Ä‡§® ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§´‡§∏‡§≤ ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç',
                getRecommendations: '‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂ ‡§™‡§æ‡§è‡§Ç',
                recommendedCrops: '‡§Ö‡§®‡•Å‡§∂‡§Ç‡§∏‡§ø‡§§ ‡§´‡§∏‡§≤‡•á‡§Ç'
            },
            te: {
                dashboard: '‡∞°‡±ç‡∞Ø‡∞æ‡∞∑‡±ç‚Äå‡∞¨‡±ã‡∞∞‡±ç‡∞°‡±ç',
                diseaseDetection: '‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø ‡∞ó‡±Å‡∞∞‡±ç‡∞§‡∞ø‡∞Ç‡∞™‡±Å',
                cropRecommendation: '‡∞™‡∞Ç‡∞ü ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å',
                irrigationAdvisory: '‡∞®‡±Ä‡∞ü‡∞ø‡∞™‡∞æ‡∞∞‡±Å‡∞¶‡∞≤ ‡∞∏‡∞≤‡∞π‡∞æ',
                aiConsultation: 'AI ‡∞∏‡∞Ç‡∞™‡±ç‡∞∞‡∞¶‡∞ø‡∞Ç‡∞™‡±Å',
                pageTitle: 'AI-‡∞Ü‡∞ß‡∞æ‡∞∞‡∞ø‡∞§ ‡∞∞‡±à‡∞§‡±Å ‡∞Æ‡∞¶‡±ç‡∞¶‡∞§‡±Å ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡±ç‡∞•',
                pageSubtitle: '‡∞ñ‡∞ö‡±ç‡∞ö‡∞ø‡∞§‡∞Æ‡±à‡∞® ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø‡∞Ç ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞™‡±Ç‡∞∞‡±ç‡∞§‡∞ø ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø ‡∞Æ‡±á‡∞ß‡∞∏‡±ç‡∞∏‡±Å ‡∞µ‡±á‡∞¶‡∞ø‡∞ï',
                cropsMonitored: '‡∞™‡∞∞‡±ç‡∞Ø‡∞µ‡±á‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞ø‡∞® ‡∞™‡∞Ç‡∞ü‡∞≤‡±Å',
                diseaseDetections: '‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø ‡∞ó‡±Å‡∞∞‡±ç‡∞§‡∞ø‡∞Ç‡∞™‡±Å‡∞≤‡±Å',
                activeAlerts: '‡∞ï‡±ç‡∞∞‡∞ø‡∞Ø‡∞æ‡∞∂‡±Ä‡∞≤ ‡∞π‡±Ü‡∞ö‡±ç‡∞ö‡∞∞‡∞ø‡∞ï‡∞≤‡±Å',
                yieldImprovement: '‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø ‡∞Æ‡±Ü‡∞∞‡±Å‡∞ó‡±Å‡∞¶‡∞≤',
                cropTitle: '‡∞™‡∞Ç‡∞ü ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å',
                cropSubtitle: '‡∞Æ‡±Ä ‡∞≠‡±Ç‡∞Æ‡∞ø ‡∞Ü‡∞ß‡∞æ‡∞∞‡∞Ç‡∞ó‡∞æ ‡∞µ‡±ç‡∞Ø‡∞ï‡±ç‡∞§‡∞ø‡∞ó‡∞§ ‡∞™‡∞Ç‡∞ü ‡∞∏‡±Ç‡∞ö‡∞®‡∞≤‡∞®‡±Å ‡∞™‡±ä‡∞Ç‡∞¶‡∞Ç‡∞°‡∞ø',
                getRecommendations: '‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å‡∞≤‡±Å ‡∞™‡±ä‡∞Ç‡∞¶‡∞Ç‡∞°‡∞ø',
                recommendedCrops: '‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡∞ø‡∞® ‡∞™‡∞Ç‡∞ü‡∞≤‡±Å'
            }
        };

        let currentLanguage = 'hi';

        function changeLanguage(lang) {
            currentLanguage = lang;
            
            // Update all elements with translate class
            document.querySelectorAll('.translate').forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });

            // Update nav text
            const navTexts = document.querySelectorAll('.nav-text');
            const navKeys = ['dashboard', 'diseaseDetection', 'cropRecommendation', 'irrigationAdvisory', 'aiConsultation'];
            navTexts.forEach((text, index) => {
                if (translations[lang][navKeys[index]]) {
                    text.textContent = translations[lang][navKeys[index]];
                }
            });
        }

        // Page Navigation
        function showPage(pageName) {
            // Hide all pages
            document.querySelectorAll('[id$="-page"]').forEach(page => {
                page.classList.add('hidden');
            });

            // Show selected page
            document.getElementById(pageName + '-page').classList.remove('hidden');

            // Update nav active state
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.nav-item').classList.add('active');

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Disease Detection
        let uploadedImage = null;

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                uploadedImage = file;
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('previewImg').src = e.target.result;
                    document.getElementById('imagePreview').classList.remove('hidden');
                    document.getElementById('analyzeBtn').disabled = false;
                };
                reader.readAsDataURL(file);
            }
        }

        function analyzeDisease() {
            if (!uploadedImage) return;

            // Show loading
            const btn = document.getElementById('analyzeBtn');
            const btnTexts = {
                en: 'Analyzing...',
                hi: '‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...',
                te: '‡∞µ‡∞ø‡∞∂‡±ç‡∞≤‡±á‡∞∑‡∞ø‡∞∏‡±ç‡∞§‡±ã‡∞Ç‡∞¶‡∞ø...'
            };
            btn.textContent = btnTexts[currentLanguage];
            btn.disabled = true;

            // Simulate AI analysis (replace with actual API call)
            setTimeout(() => {
                const diseases = [
                    { 
                        name: { en: 'Late Blight', hi: '‡§≤‡•á‡§ü ‡§¨‡•ç‡§≤‡§æ‡§á‡§ü', te: '‡∞≤‡±á‡∞ü‡±ç ‡∞¨‡±ç‡∞≤‡±à‡∞ü‡±ç' },
                        confidence: '93%', 
                        severity: { en: 'High', hi: '‡§â‡§ö‡•ç‡§ö', te: '‡∞Ö‡∞ß‡∞ø‡∞ï' },
                        action: {
                            en: 'Apply copper-based fungicide immediately. Remove affected leaves. Improve air circulation.',
                            hi: '‡§§‡•Å‡§∞‡§Ç‡§§ ‡§ï‡•â‡§™‡§∞-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§´‡§´‡•Ç‡§Ç‡§¶‡§®‡§æ‡§∂‡§ï ‡§≤‡§ó‡§æ‡§è‡§Ç‡•§ ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§ø‡§§ ‡§™‡§§‡•ç‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§π‡§ü‡§æ ‡§¶‡•á‡§Ç‡•§ ‡§π‡§µ‡§æ ‡§ï‡§æ ‡§∏‡§Ç‡§ö‡§æ‡§∞ ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç‡•§',
                            te: '‡∞µ‡±Ü‡∞Ç‡∞ü‡∞®‡±á ‡∞∞‡∞æ‡∞ó‡∞ø ‡∞Ü‡∞ß‡∞æ‡∞∞‡∞ø‡∞§ ‡∞∂‡∞ø‡∞≤‡±Ä‡∞Ç‡∞¶‡±ç‡∞∞ ‡∞®‡∞æ‡∞∂‡∞ø‡∞®‡∞ø ‡∞µ‡±á‡∞Ø‡∞Ç‡∞°‡∞ø. ‡∞™‡±ç‡∞∞‡∞≠‡∞æ‡∞µ‡∞ø‡∞§‡∞Æ‡±à‡∞® ‡∞Ü‡∞ï‡±Å‡∞≤‡∞®‡±Å ‡∞§‡±ä‡∞≤‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø. ‡∞ó‡∞æ‡∞≤‡∞ø ‡∞™‡±ç‡∞∞‡∞∏‡∞∞‡∞£‡∞®‡±Å ‡∞Æ‡±Ü‡∞∞‡±Å‡∞ó‡±Å‡∞™‡∞∞‡∞ö‡∞Ç‡∞°‡∞ø.'
                        }
                    },
                    { 
                        name: { en: 'Leaf Spot', hi: '‡§™‡§§‡•ç‡§§‡•Ä ‡§ï‡§æ ‡§ß‡§¨‡•ç‡§¨‡§æ', te: '‡∞Ü‡∞ï‡±Å ‡∞Æ‡∞ö‡±ç‡∞ö' },
                        confidence: '87%', 
                        severity: { en: 'Medium', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•' },
                        action: {
                            en: 'Remove infected leaves. Apply organic neem oil spray. Ensure proper spacing between plants.',
                            hi: '‡§∏‡§Ç‡§ï‡•ç‡§∞‡§Æ‡§ø‡§§ ‡§™‡§§‡•ç‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§π‡§ü‡§æ ‡§¶‡•á‡§Ç‡•§ ‡§ú‡•à‡§µ‡§ø‡§ï ‡§®‡•Ä‡§Æ ‡§ï‡§æ ‡§§‡•á‡§≤ ‡§∏‡•ç‡§™‡•ç‡§∞‡•á ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§â‡§ö‡§ø‡§§ ‡§¶‡•Ç‡§∞‡•Ä ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§',
                            te: '‡∞∏‡±ã‡∞ï‡∞ø‡∞® ‡∞Ü‡∞ï‡±Å‡∞≤‡∞®‡±Å ‡∞§‡±ä‡∞≤‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø. ‡∞∏‡±á‡∞Ç‡∞¶‡±ç‡∞∞‡±Ä‡∞Ø ‡∞µ‡±á‡∞™ ‡∞®‡±Ç‡∞®‡±Ü ‡∞∏‡±ç‡∞™‡±ç‡∞∞‡±á ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø. ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞≤ ‡∞Æ‡∞ß‡±ç‡∞Ø ‡∞∏‡∞∞‡±à‡∞® ‡∞¶‡±Ç‡∞∞‡∞Ç ‡∞â‡∞Ç‡∞°‡±á‡∞≤‡∞æ ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø.'
                        }
                    },
                    { 
                        name: { en: 'Powdery Mildew', hi: '‡§™‡§æ‡§â‡§°‡§∞‡•Ä ‡§Æ‡§ø‡§≤‡•ç‡§°‡•ç‡§Ø‡•Ç', te: '‡∞™‡±ä‡∞°‡∞ø ‡∞¨‡±Ç‡∞ú‡±Å' },
                        confidence: '91%', 
                        severity: { en: 'Medium', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•' },
                        action: {
                            en: 'Spray with baking soda solution. Improve air circulation. Water in the morning.',
                            hi: '‡§¨‡•á‡§ï‡§ø‡§Ç‡§ó ‡§∏‡•ã‡§°‡§æ ‡§ï‡•á ‡§ò‡•ã‡§≤ ‡§ï‡§æ ‡§õ‡§ø‡§°‡§º‡§ï‡§æ‡§µ ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§π‡§µ‡§æ ‡§ï‡§æ ‡§∏‡§Ç‡§ö‡§æ‡§∞ ‡§∏‡•Å‡§ß‡§æ‡§∞‡•á‡§Ç‡•§ ‡§∏‡•Å‡§¨‡§π ‡§ï‡•á ‡§∏‡§Æ‡§Ø ‡§™‡§æ‡§®‡•Ä ‡§¶‡•á‡§Ç‡•§',
                            te: '‡∞¨‡±á‡∞ï‡∞ø‡∞Ç‡∞ó‡±ç ‡∞∏‡±ã‡∞°‡∞æ ‡∞¶‡±ç‡∞∞‡∞æ‡∞µ‡∞£‡∞Ç‡∞§‡±ã ‡∞∏‡±ç‡∞™‡±ç‡∞∞‡±á ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø. ‡∞ó‡∞æ‡∞≤‡∞ø ‡∞™‡±ç‡∞∞‡∞∏‡∞∞‡∞£‡∞®‡±Å ‡∞Æ‡±Ü‡∞∞‡±Å‡∞ó‡±Å‡∞™‡∞∞‡∞ö‡∞Ç‡∞°‡∞ø. ‡∞â‡∞¶‡∞Ø‡∞Ç ‡∞∏‡∞Æ‡∞Ø‡∞Ç‡∞≤‡±ã ‡∞®‡±Ä‡∞∞‡±Å ‡∞™‡±ã‡∞Ø‡∞Ç‡∞°‡∞ø.'
                        }
                    }
                ];

                const result = diseases[Math.floor(Math.random() * diseases.length)];

                document.getElementById('diseaseName').textContent = result.name[currentLanguage];
                document.getElementById('confidence').textContent = result.confidence;
                document.getElementById('severity').textContent = result.severity[currentLanguage];
                document.getElementById('recommendation').textContent = result.action[currentLanguage];
                document.getElementById('detectionResult').classList.remove('hidden');

                const analyzeBtnTexts = {
                    en: 'Analyze Image',
                    hi: '‡§õ‡§µ‡§ø ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡•á‡§Ç',
                    te: '‡∞ö‡∞ø‡∞§‡±ç‡∞∞‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞µ‡∞ø‡∞∂‡±ç‡∞≤‡±á‡∞∑‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø'
                };
                btn.textContent = analyzeBtnTexts[currentLanguage];
                btn.disabled = false;
            }, 2000);
        }

        // Crop Recommendation - Updated for farmer-friendly inputs
        function getCropRecommendation() {
            const state = document.getElementById('state').value;
            const district = document.getElementById('district').value;
            const season = document.getElementById('season').value;
            const soilColor = document.getElementById('soilColor').value;
            const soilTexture = document.getElementById('soilTexture').value;
            const waterAvailability = document.getElementById('waterAvailability').value;
            const farmSize = document.getElementById('farmSize').value;
            const lastCrop = document.getElementById('lastCrop').value;

            if (!state || !season || !soilColor || !soilTexture || !waterAvailability) {
                const alerts = {
                    en: 'Please fill all required fields',
                    hi: '‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç',
                    te: '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Æ‡±à‡∞® ‡∞´‡±Ä‡∞≤‡±ç‡∞°‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞™‡±Ç‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø'
                };
                alert(alerts[currentLanguage]);
                return;
            }

            // Smart crop recommendations based on simple inputs
            const cropDatabase = {
                kharif: {
                    black: {
                        abundant: [
                            { name: { en: 'Rice', hi: '‡§ß‡§æ‡§®', te: '‡∞µ‡∞∞‡∞ø' }, suitability: '95%', yield: { en: 'High', hi: '‡§â‡§ö‡•ç‡§ö', te: '‡∞Ö‡∞ß‡∞ø‡∞ï' }, reason: { en: 'Perfect for black soil with good water', hi: '‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§™‡§æ‡§®‡•Ä ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§æ‡§≤‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§Ø‡•Å‡§ï‡•ç‡§§', te: '‡∞Æ‡∞Ç‡∞ö‡∞ø ‡∞®‡±Ä‡∞∞‡±Å‡∞§‡±ã ‡∞®‡∞≤‡±ç‡∞≤ ‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø‡∞ï‡∞ø ‡∞∏‡∞∞‡±à‡∞®‡∞¶‡∞ø' }},
                            { name: { en: 'Cotton', hi: '‡§ï‡§™‡§æ‡§∏', te: '‡∞™‡∞§‡±ç‡∞§‡∞ø' }, suitability: '92%', yield: { en: 'High', hi: '‡§â‡§ö‡•ç‡§ö', te: '‡∞Ö‡∞ß‡∞ø‡∞ï' }, reason: { en: 'Black soil is ideal for cotton', hi: '‡§ï‡§æ‡§≤‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡§™‡§æ‡§∏ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§π‡•à', te: '‡∞®‡∞≤‡±ç‡∞≤ ‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø ‡∞™‡∞§‡±ç‡∞§‡∞ø‡∞ï‡∞ø ‡∞Ö‡∞®‡±Å‡∞µ‡±à‡∞®‡∞¶‡∞ø' }},
                            { name: { en: 'Soybean', hi: '‡§∏‡•ã‡§Ø‡§æ‡§¨‡•Ä‡§®', te: '‡∞∏‡±ã‡∞Ø‡∞æ‡∞¨‡±Ä‡∞®‡±ç' }, suitability: '88%', yield: { en: 'Medium-High', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ-‡§â‡§ö‡•ç‡§ö', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•-‡∞Ö‡∞ß‡∞ø‡∞ï' }, reason: { en: 'Good protein crop for this season', hi: '‡§á‡§∏ ‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§™‡•ç‡§∞‡•ã‡§ü‡•Ä‡§® ‡§´‡§∏‡§≤', te: '‡∞à ‡∞∏‡±Ä‡∞ú‡∞®‡±ç‚Äå‡∞ï‡±Å ‡∞Æ‡∞Ç‡∞ö‡∞ø ‡∞™‡±ç‡∞∞‡±ã‡∞ü‡±Ä‡∞®‡±ç ‡∞™‡∞Ç‡∞ü' }}
                        ],
                        moderate: [
                            { name: { en: 'Cotton', hi: '‡§ï‡§™‡§æ‡§∏', te: '‡∞™‡∞§‡±ç‡∞§‡∞ø' }, suitability: '94%', yield: { en: 'High', hi: '‡§â‡§ö‡•ç‡§ö', te: '‡∞Ö‡∞ß‡∞ø‡∞ï' }, reason: { en: 'Perfect match for your conditions', hi: '‡§Ü‡§™‡§ï‡•Ä ‡§™‡§∞‡§ø‡§∏‡•ç‡§•‡§ø‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§∏‡§π‡•Ä', te: '‡∞Æ‡±Ä ‡∞™‡∞∞‡∞ø‡∞∏‡±ç‡∞•‡∞ø‡∞§‡±Å‡∞≤‡∞ï‡±Å ‡∞∏‡∞∞‡±à‡∞® ‡∞∏‡∞∞‡∞ø‡∞™‡±ã‡∞≤‡∞ø‡∞ï' }},
                            { name: { en: 'Sorghum', hi: '‡§ú‡•ç‡§µ‡§æ‡§∞', te: '‡∞ú‡±ä‡∞®‡±ç‡∞®' }, suitability: '89%', yield: { en: 'Medium-High', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ-‡§â‡§ö‡•ç‡§ö', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•-‡∞Ö‡∞ß‡∞ø‡∞ï' }, reason: { en: 'Drought tolerant, good for moderate water', hi: '‡§∏‡•Ç‡§ñ‡§æ ‡§∏‡§π‡§ø‡§∑‡•ç‡§£‡•Å, ‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§™‡§æ‡§®‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§ö‡•ç‡§õ‡§æ', te: '‡∞ï‡∞∞‡±Å‡∞µ‡±Å ‡∞§‡∞ü‡±ç‡∞ü‡±Å‡∞ï‡±Å‡∞®‡±á, ‡∞Æ‡∞ø‡∞§‡∞Æ‡±à‡∞® ‡∞®‡±Ä‡∞ü‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞Ç‡∞ö‡∞ø‡∞¶‡∞ø' }},
                            { name: { en: 'Pigeon Pea', hi: '‡§Ö‡§∞‡§π‡§∞', te: '‡∞ï‡∞Ç‡∞¶‡±Å‡∞≤‡±Å' }, suitability: '85%', yield: { en: 'Medium', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•' }, reason: { en: 'Improves soil fertility', hi: '‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§â‡§∞‡•ç‡§µ‡§∞‡§§‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§ß‡§æ‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à', te: '‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø ‡∞∏‡∞æ‡∞∞‡∞µ‡∞Ç‡∞§‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞Æ‡±Ü‡∞∞‡±Å‡∞ó‡±Å‡∞™‡∞∞‡±Å‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø' }}
                        ],
                        limited: [
                            { name: { en: 'Sorghum', hi: '‡§ú‡•ç‡§µ‡§æ‡§∞', te: '‡∞ú‡±ä‡∞®‡±ç‡∞®' }, suitability: '92%', yield: { en: 'Medium', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•' }, reason: { en: 'Very drought tolerant', hi: '‡§¨‡§π‡•Å‡§§ ‡§∏‡•Ç‡§ñ‡§æ ‡§∏‡§π‡§ø‡§∑‡•ç‡§£‡•Å', te: '‡∞ö‡∞æ‡∞≤‡∞æ ‡∞ï‡∞∞‡±Å‡∞µ‡±Å ‡∞§‡∞ü‡±ç‡∞ü‡±Å‡∞ï‡±Å‡∞®‡±á' }},
                            { name: { en: 'Pearl Millet', hi: '‡§¨‡§æ‡§ú‡§∞‡§æ', te: '‡∞∏‡∞ú‡±ç‡∞ú‡∞≤‡±Å' }, suitability: '88%', yield: { en: 'Medium', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•' }, reason: { en: 'Needs very little water', hi: '‡§¨‡§π‡•Å‡§§ ‡§ï‡§Æ ‡§™‡§æ‡§®‡•Ä ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ', te: '‡∞ö‡∞æ‡∞≤‡∞æ ‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞®‡±Ä‡∞∞‡±Å ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Ç' }},
                            { name: { en: 'Groundnut', hi: '‡§Æ‡•Ç‡§Ç‡§ó‡§´‡§≤‡•Ä', te: '‡∞µ‡±á‡∞∞‡±Å‡∞∂‡±Ü‡∞®‡∞ó' }, suitability: '82%', yield: { en: 'Medium', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•' }, reason: { en: 'Good cash crop for dry areas', hi: '‡§∏‡•Ç‡§ñ‡•á ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§®‡§ï‡§¶‡•Ä ‡§´‡§∏‡§≤', te: '‡∞™‡±ä‡∞°‡∞ø ‡∞™‡±ç‡∞∞‡∞æ‡∞Ç‡∞§‡∞æ‡∞≤‡∞ï‡±Å ‡∞Æ‡∞Ç‡∞ö‡∞ø ‡∞®‡∞ó‡∞¶‡±Å ‡∞™‡∞Ç‡∞ü' }}
                        ]
                    },
                    red: {
                        moderate: [
                            { name: { en: 'Groundnut', hi: '‡§Æ‡•Ç‡§Ç‡§ó‡§´‡§≤‡•Ä', te: '‡∞µ‡±á‡∞∞‡±Å‡∞∂‡±Ü‡∞®‡∞ó' }, suitability: '93%', yield: { en: 'High', hi: '‡§â‡§ö‡•ç‡§ö', te: '‡∞Ö‡∞ß‡∞ø‡∞ï' }, reason: { en: 'Red soil is excellent for groundnut', hi: '‡§≤‡§æ‡§≤ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§Æ‡•Ç‡§Ç‡§ó‡§´‡§≤‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§§‡•ç‡§ï‡•É‡§∑‡•ç‡§ü ‡§π‡•à', te: '‡∞é‡∞∞‡±Å‡∞™‡±Å ‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø ‡∞µ‡±á‡∞∞‡±Å‡∞∂‡±Ü‡∞®‡∞ó‡∞ï‡±Å ‡∞Ö‡∞¶‡±ç‡∞≠‡±Å‡∞§‡∞Ç' }},
                            { name: { en: 'Maize', hi: '‡§Æ‡§ï‡•ç‡§ï‡§æ', te: '‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞ú‡±ä‡∞®‡±ç‡∞®' }, suitability: '89%', yield: { en: 'Medium-High', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ-‡§â‡§ö‡•ç‡§ö', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•-‡∞Ö‡∞ß‡∞ø‡∞ï' }, reason: { en: 'Good for red soil', hi: '‡§≤‡§æ‡§≤ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§ö‡•ç‡§õ‡§æ', te: '‡∞é‡∞∞‡±Å‡∞™‡±Å ‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞Ç‡∞ö‡∞ø‡∞¶‡∞ø' }},
                            { name: { en: 'Finger Millet', hi: '‡§∞‡§æ‡§ó‡•Ä', te: '‡∞∞‡∞æ‡∞ó‡∞ø' }, suitability: '85%', yield: { en: 'Medium', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•' }, reason: { en: 'Nutritious crop, suits red soil', hi: '‡§™‡•å‡§∑‡•ç‡§ü‡§ø‡§ï ‡§´‡§∏‡§≤, ‡§≤‡§æ‡§≤ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•á ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤', te: '‡∞™‡±ã‡∞∑‡∞ï ‡∞™‡∞Ç‡∞ü, ‡∞é‡∞∞‡±Å‡∞™‡±Å ‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø‡∞ï‡∞ø ‡∞∏‡∞∞‡∞ø‡∞™‡±ã‡∞§‡±Å‡∞Ç‡∞¶‡∞ø' }}
                        ]
                    }
                },
                rabi: {
                    black: {
                        moderate: [
                            { name: { en: 'Wheat', hi: '‡§ó‡•á‡§π‡•Ç‡§Ç', te: '‡∞ó‡±ã‡∞ß‡±Å‡∞Æ' }, suitability: '95%', yield: { en: 'High', hi: '‡§â‡§ö‡•ç‡§ö', te: '‡∞Ö‡∞ß‡∞ø‡∞ï' }, reason: { en: 'Perfect season and soil for wheat', hi: '‡§ó‡•á‡§π‡•Ç‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§Æ‡•å‡§∏‡§Æ ‡§î‡§∞ ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä', te: '‡∞ó‡±ã‡∞ß‡±Å‡∞Æ‡∞≤‡∞ï‡±Å ‡∞∏‡∞∞‡±à‡∞® ‡∞∏‡±Ä‡∞ú‡∞®‡±ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø' }},
                            { name: { en: 'Chickpea', hi: '‡§ö‡§®‡§æ', te: '‡∞∂‡∞®‡∞ó‡∞≤‡±Å' }, suitability: '91%', yield: { en: 'High', hi: '‡§â‡§ö‡•ç‡§ö', te: '‡∞Ö‡∞ß‡∞ø‡∞ï' }, reason: { en: 'Excellent for black soil in winter', hi: '‡§∏‡§∞‡•ç‡§¶‡§ø‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡§æ‡§≤‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§§‡•ç‡§ï‡•É‡§∑‡•ç‡§ü', te: '‡∞∂‡±Ä‡∞§‡∞æ‡∞ï‡∞æ‡∞≤‡∞Ç‡∞≤‡±ã ‡∞®‡∞≤‡±ç‡∞≤ ‡∞Æ‡∞ü‡±ç‡∞ü‡∞ø‡∞ï‡∞ø ‡∞Ö‡∞¶‡±ç‡∞≠‡±Å‡∞§‡∞Ç' }},
                            { name: { en: 'Mustard', hi: '‡§∏‡§∞‡§∏‡•ã‡§Ç', te: '‡∞Ü‡∞µ‡∞æ‡∞≤‡±Å' }, suitability: '87%', yield: { en: 'Medium-High', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ-‡§â‡§ö‡•ç‡§ö', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•-‡∞Ö‡∞ß‡∞ø‡∞ï' }, reason: { en: 'Good oil seed crop', hi: '‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§§‡§ø‡§≤‡§π‡§® ‡§´‡§∏‡§≤', te: '‡∞Æ‡∞Ç‡∞ö‡∞ø ‡∞®‡±Ç‡∞®‡±Ü ‡∞ó‡∞ø‡∞Ç‡∞ú‡∞≤ ‡∞™‡∞Ç‡∞ü' }}
                        ],
                        limited: [
                            { name: { en: 'Chickpea', hi: '‡§ö‡§®‡§æ', te: '‡∞∂‡∞®‡∞ó‡∞≤‡±Å' }, suitability: '93%', yield: { en: 'Medium-High', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ-‡§â‡§ö‡•ç‡§ö', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•-‡∞Ö‡∞ß‡∞ø‡∞ï' }, reason: { en: 'Drought tolerant pulse', hi: '‡§∏‡•Ç‡§ñ‡§æ ‡§∏‡§π‡§ø‡§∑‡•ç‡§£‡•Å ‡§¶‡§≤‡§π‡§®', te: '‡∞ï‡∞∞‡±Å‡∞µ‡±Å ‡∞§‡∞ü‡±ç‡∞ü‡±Å‡∞ï‡±Å‡∞®‡±á ‡∞™‡∞™‡±ç‡∞™‡±Å' }},
                            { name: { en: 'Lentil', hi: '‡§Æ‡§∏‡•Ç‡§∞', te: '‡∞Æ‡∞∏‡±Ç‡∞∞‡±ç' }, suitability: '88%', yield: { en: 'Medium', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•' }, reason: { en: 'Needs less water', hi: '‡§ï‡§Æ ‡§™‡§æ‡§®‡•Ä ‡§ï‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡§§', te: '‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞®‡±Ä‡∞∞‡±Å ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Ç' }},
                            { name: { en: 'Mustard', hi: '‡§∏‡§∞‡§∏‡•ã‡§Ç', te: '‡∞Ü‡∞µ‡∞æ‡∞≤‡±Å' }, suitability: '85%', yield: { en: 'Medium', hi: '‡§Æ‡§ß‡•ç‡§Ø‡§Æ', te: '‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•' }, reason: { en: 'Hardy winter crop', hi: '‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§∏‡§∞‡•ç‡§¶‡•Ä ‡§ï‡•Ä ‡§´‡§∏‡§≤', te: '‡∞¶‡±É‡∞¢‡∞Æ‡±à‡∞® ‡∞∂‡±Ä‡∞§‡∞æ‡∞ï‡∞æ‡∞≤ ‡∞™‡∞Ç‡∞ü' }}
                        ]
                    }
                }
            };

            // Get recommendations based on inputs
            let crops = [];
            if (cropDatabase[season] && cropDatabase[season][soilColor]) {
                crops = cropDatabase[season][soilColor][waterAvailability] || cropDatabase[season][soilColor]['moderate'] || [];
            }

            // Fallback recommendations
            if (crops.length === 0) {
                crops = [
                    { name: { en: 'Consult Expert', hi: '‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û ‡§∏‡•á ‡§™‡§∞‡§æ‡§Æ‡§∞‡•ç‡§∂ ‡§≤‡•á‡§Ç', te: '‡∞®‡∞ø‡∞™‡±Å‡∞£‡±Å‡∞°‡∞ø‡∞®‡∞ø ‡∞∏‡∞Ç‡∞™‡±ç‡∞∞‡∞¶‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø' }, suitability: '-', yield: { en: '-', hi: '-', te: '-' }, reason: { en: 'Please use AI Consultation for personalized advice', hi: '‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§∏‡§≤‡§æ‡§π ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•É‡§™‡§Ø‡§æ AI ‡§™‡§∞‡§æ‡§Æ‡§∞‡•ç‡§∂ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç', te: '‡∞µ‡±ç‡∞Ø‡∞ï‡±ç‡∞§‡∞ø‡∞ó‡∞§ ‡∞∏‡∞≤‡∞π‡∞æ ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø AI ‡∞∏‡∞Ç‡∞™‡±ç‡∞∞‡∞¶‡∞ø‡∞Ç‡∞™‡±Å‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø' }}
                ];
            }

            let html = '';
            crops.forEach(crop => {
                html += `
                    <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 4px solid #2d9061;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <strong style="font-size: 16px;">${crop.name[currentLanguage]}</strong>
                            <span style="background: #d4f4dd; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold; color: #2d9061;">${crop.suitability}</span>
                        </div>
                        <div style="font-size: 13px; color: #718096; margin-bottom: 4px;">${currentLanguage === 'en' ? 'Expected Yield' : currentLanguage === 'hi' ? '‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§ø‡§§ ‡§â‡§™‡§ú' : '‡∞Ü‡∞∂‡∞ø‡∞Ç‡∞ö‡∞ø‡∞® ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø'}: ${crop.yield[currentLanguage]}</div>
                        <div style="font-size: 13px; color: #4a5568;">${crop.reason[currentLanguage]}</div>
                    </div>
                `;
            });

            document.getElementById('cropList').innerHTML = html;
            document.getElementById('cropResult').classList.remove('hidden');
        }

        function updateDistricts() {
            // Can add state-specific districts here if needed
        }

        // Irrigation Advisory
        function getIrrigationAdvice() {
            const cropType = document.getElementById('cropType').value;
            const growthStage = document.getElementById('growthStage').value;
            const fieldSize = document.getElementById('fieldSize').value;

            if (!cropType || !growthStage || !fieldSize) {
                const alerts = {
                    en: 'Please fill all fields',
                    hi: '‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç',
                    te: '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞´‡±Ä‡∞≤‡±ç‡∞°‡±ç‚Äå‡∞≤‡∞®‡±Å ‡∞™‡±Ç‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø'
                };
                alert(alerts[currentLanguage]);
                return;
            }

            // Simulate calculation (replace with actual API call)
            document.getElementById('waterAmount').textContent = (fieldSize * 50) + ' liters/day';
            const frequencyTexts = {
                en: 'Every 3 days',
                hi: '‡§π‡§∞ 3 ‡§¶‡§ø‡§®',
                te: '‡∞™‡±ç‡∞∞‡∞§‡∞ø 3 ‡∞∞‡±ã‡∞ú‡±Å‡∞≤‡∞ï‡±Å'
            };
            document.getElementById('frequency').textContent = frequencyTexts[currentLanguage];
            document.getElementById('nextIrrigation').textContent = 'February 5, 2026';

            const tips = {
                en: [
                    'Water early morning or late evening to reduce evaporation',
                    'Use drip irrigation to save up to 40% water',
                    'Check soil moisture before irrigating',
                    'Mulch around plants to retain moisture'
                ],
                hi: [
                    '‡§µ‡§æ‡§∑‡•ç‡§™‡•Ä‡§ï‡§∞‡§£ ‡§ï‡§Æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•Å‡§¨‡§π ‡§ú‡§≤‡•ç‡§¶‡•Ä ‡§Ø‡§æ ‡§∂‡§æ‡§Æ ‡§ï‡•ã ‡§™‡§æ‡§®‡•Ä ‡§¶‡•á‡§Ç',
                    '40% ‡§§‡§ï ‡§™‡§æ‡§®‡•Ä ‡§¨‡§ö‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§°‡•ç‡§∞‡§ø‡§™ ‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç',
                    '‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§®‡§Æ‡•Ä ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•á‡§Ç',
                    '‡§®‡§Æ‡•Ä ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•á ‡§ö‡§æ‡§∞‡•ã‡§Ç ‡§ì‡§∞ ‡§Æ‡§≤‡•ç‡§ö ‡§ï‡§∞‡•á‡§Ç'
                ],
                te: [
                    '‡∞Ü‡∞µ‡∞ø‡∞∞‡±à‡∞™‡±ã‡∞µ‡∞°‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞§‡∞ó‡±ç‡∞ó‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞§‡±Ü‡∞≤‡±ç‡∞≤‡∞µ‡∞æ‡∞∞‡±Å‡∞ú‡∞æ‡∞Æ‡±Å‡∞® ‡∞≤‡±á‡∞¶‡∞æ ‡∞∏‡∞æ‡∞Ø‡∞Ç‡∞ï‡∞æ‡∞≤‡∞Ç ‡∞®‡±Ä‡∞∞‡±Å ‡∞™‡±ã‡∞Ø‡∞Ç‡∞°‡∞ø',
                    '40% ‡∞µ‡∞∞‡∞ï‡±Å ‡∞®‡±Ä‡∞ü‡∞ø‡∞®‡∞ø ‡∞Ü‡∞¶‡∞æ ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞°‡±ç‡∞∞‡∞ø‡∞™‡±ç ‡∞®‡±Ä‡∞ü‡∞ø‡∞™‡∞æ‡∞∞‡±Å‡∞¶‡∞≤‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø',
                    '‡∞®‡±Ä‡∞ü‡∞ø‡∞™‡∞æ‡∞∞‡±Å‡∞¶‡∞≤ ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡±Å‡∞Ç‡∞¶‡±Å ‡∞®‡±á‡∞≤ ‡∞§‡±á‡∞Æ‡∞®‡±Å ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø',
                    '‡∞§‡±á‡∞Æ‡∞®‡±Å ‡∞®‡∞ø‡∞≤‡±Å‡∞™‡±Å‡∞ï‡±ã‡∞µ‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞≤ ‡∞ö‡±Å‡∞ü‡±ç‡∞ü‡±Ç ‡∞Æ‡∞≤‡±ç‡∞ö‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø'
                ]
            };

            let tipsHtml = '';
            tips[currentLanguage].forEach(tip => {
                tipsHtml += `<li style="margin-bottom: 5px;">${tip}</li>`;
            });
            document.getElementById('waterTips').innerHTML = tipsHtml;

            document.getElementById('irrigationResult').classList.remove('hidden');
        }

        // Chat Functionality
        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendChatMessage();
            }
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;

            // Add user message
            addChatMessage(message, 'user');
            input.value = '';

            // Simulate bot response (replace with actual ChatGPT API call)
            setTimeout(() => {
                const responses = {
                    en: [
                        'That\'s a great question. Let me explain in detail...',
                        'Based on your situation, I recommend...',
                        'For this season, you should focus on...'
                    ],
                    hi: [
                        '‡§Ø‡§π ‡§è‡§ï ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§∏‡§µ‡§æ‡§≤ ‡§π‡•à‡•§ ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•ã ‡§µ‡§ø‡§∏‡•ç‡§§‡§æ‡§∞ ‡§∏‡•á ‡§¨‡§§‡§æ‡§§‡§æ ‡§π‡•Ç‡§Å...',
                        '‡§Ü‡§™‡§ï‡•Ä ‡§™‡§∞‡§ø‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞, ‡§Æ‡•á‡§∞‡•Ä ‡§∏‡§≤‡§æ‡§π ‡§π‡•à...',
                        '‡§á‡§∏ ‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Ü‡§™‡§ï‡•ã ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è...'
                    ],
                    te: [
                        '‡∞á‡∞¶‡∞ø ‡∞Æ‡∞Ç‡∞ö‡∞ø ‡∞™‡±ç‡∞∞‡∞∂‡±ç‡∞®. ‡∞®‡±á‡∞®‡±Å ‡∞µ‡∞ø‡∞µ‡∞∞‡∞Ç‡∞ó‡∞æ ‡∞µ‡∞ø‡∞µ‡∞∞‡∞ø‡∞∏‡±ç‡∞§‡∞æ‡∞®‡±Å...',
                        '‡∞Æ‡±Ä ‡∞™‡∞∞‡∞ø‡∞∏‡±ç‡∞•‡∞ø‡∞§‡∞ø ‡∞Ü‡∞ß‡∞æ‡∞∞‡∞Ç‡∞ó‡∞æ, ‡∞®‡±á‡∞®‡±Å ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞®‡±Å...',
                        '‡∞à ‡∞∏‡±Ä‡∞ú‡∞®‡±ç ‡∞ï‡±ã‡∞∏‡∞Ç, ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞¶‡±É‡∞∑‡±ç‡∞ü‡∞ø ‡∞™‡±Ü‡∞ü‡±ç‡∞ü‡∞æ‡∞≤‡∞ø...'
                    ]
                };
                const langResponses = responses[currentLanguage];
                const response = langResponses[Math.floor(Math.random() * langResponses.length)];
                addChatMessage(response, 'bot');
            }, 1000);
        }

        function addChatMessage(text, type) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${type}`;
            messageDiv.innerHTML = `<div class="message-bubble">${text}</div>`;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Initialize with Hindi
        window.onload = function() {
            changeLanguage('hi');
        };
    </script>
</body>
</html>